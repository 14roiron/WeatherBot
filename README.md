# WeatherBot
3D Printable Weather Forecasting Theatre | ESP32 &amp; OpenWeatherMap

Meet WeatherBot, my WiFi connected weather forecasting machine. WeatherBot retrieves a local forecast from OpenWeatherMaps and then shows you tomorrows weather with a motorised mini diorama.

The additional e-ink display provides a more precise insight into today and tomorrows weather patterns. I’ll show you step by step how to make your own. 

I have written and created a video containing full build instrucitons and a guide on using this code on my website: https://www.diymachines.co.uk/weatherbot-3d-printable-weather-forecasting-theatre

## List of items used in this project and where to find them:

* Waveshare 2.9” E-ink Display (296x128): https://geni.us/E-inkDisplay1

    * Note: This repo updated to handle the current Waveshare 2.9" display (rev 2.1) available at DIYMachine's Amazon link.

* Electrical wire: https://geni.us/22AWGWire

* ESP32 (x1): https://geni.us/ESP32

    * Note: Amazon Link is outdated if you are going to use the PCB design. PCB Design requires 30 Pin ESP32.
    * I am using [These](https://www.amazon.com/dp/B08246MCL5?psc=1&ref=ppx_yo2ov_dt_b_product_details)

* Limit Switches (x4): https://geni.us/ContactSwitch

* Micro continuous / 360 degree rotation servos (x4): https://geni.us/FS90R

* PCB: https://geni.us/WeatherBotPCB

    * Note: Link is outdated if you are going to use DIYMachine's ESP32 Amazon Link. PCB Design requires 30 Pin ESP32

* USB cable (for uploading code and powering project): https://geni.us/MicroUSBCable

* M2.5x14 Bolts (x12), M2.5x8 Bolts (x7) and Nuts (x10): https://geni.us/M2-5BoltKit

* 90 Degree / Corner Header Pins: https://geni.us/90DegreeHeaderPins

* Filament for 3D printing: www.3djake.com

* 3mm thick wood for laser cut scene discs (x4 A4 size): https://geni.us/3mmPlywood

* Projects PCB: https://geni.us/WeatherBotPCB 

## Fixed SVGs
I have updated the SVGs as the original ones were generated by whatever software the SnapMaker uses for design and were very difficult to use.
* Invisible/barely visible artifacts removed (messed with resizing)
* Duplicate objects removed
* Outlines and rain cleaned up 
* Resized to correct dimension (160mmx160mm) 
* Disc 4 split into three seperate SVGs (line, fill, cut)
  * Please note, the fill layer will not perfectly align automatically as it has a different bounding box than any other set of SVGs. It will need to be aligned manually by the user.
* Included the screen cover which I can't find anywhere other than from a user on the discord

## Arduino Libraries
* Arduino_JSON by Arduino
    * Requires v0.1.0 unless someone wants to rewrite the way this handles objects.
* Adafruit GFX by Adafruit
    * Latest
* GxEPD2 by Jean-Marc Zingg
    * Latest, config files updated to work with new display
* ESP32Servo by Kevin Harrington and John K. Bennett
    * Latest

## Important WaveShare rev2.1 Notes
### Per [GxEPD2 Repo](https://github.com/ZinggJM/GxEPD2#important-note)
* use init(115200, true, 2, false) for Waveshare boards with "clever" reset circuit
    * .ino updated
* note that Waveshare boards with "clever" reset circuit need 1k pull-up on RST on ESP8266, or different pin

# Lingering Problems
* OpenWeatherMap has changed their API pretty drastically since this was written. The only absolutely free version I can find from them reports data in three hour chunks for five days at a time. I do not see a way to get a "today and tomorrow" summary like this is expecting. Project will likely need large rewrites if the original creator doesn't pick it back up.
* Alternatively, and what I am going to change this to do, you can give them a credit card (Shoutout to Privacy.com) and if you go over 1,000 requests per day they charge you $0.15 in blocks of 100 requests allowed. This just requires a small modification to the URL.

# Original Creator, DIYMachines, Also Provides the Info Below I Have Included Verbatim

These are some of my favourite tools I use and can recommend:

* Battery-powered glue gun: http://geni.us/BoschBatteryGlueGun

* Bosch Bit Driver: https://geni.us/Bosch-Screwdriver 

I use a Prusa MK3S for my projects and highly recommend both it and the Prusa Mini. If I inspired you to take up 3D printing please consider purchasing a printer via this link: http://shop.prusa3d.com/#a_aid=diymachines

Prusa support my channel when you use that link at no cost to yourself. :)

 ==========

3D printed parts, wiring diagrams, FAQ and code etc can be found here: https://www.diymachines.co.uk/weatherbot-3d-printable-weather-forecasting-theatre 

* Etsy Shop: https://www.etsy.com/uk/shop/

* DIYMachines Discord server for this project: https://discord.gg/vwb2VHrGVj

========== 

SAY THANKS: Provide continual and dependable support through Patreon: https://www.patreon.com/diymachines

Or join this channel on Youtube Memberships: https://www.youtube.com/channel/UC3jc4X-kEq-dEDYhQ8QoYnQ/join

Buy me a coffee to say thanks: https://ko-fi.com/diymachines

SUBSCRIBE:

* Youtube: https://www.youtube.com/channel/UC3jc4X-kEq-dEDYhQ8QoYnQ?sub_confirmation=1

* INSTAGRAM: https://www.instagram.com/diy_machines

* FACEBOOK: https://www.facebook.com/diymachines/ 

* ETSY: https://www.etsy.com/uk/shop/DIYMachines

==========

List of camera and lighting equipment I use:

* Sony A7 III: https://geni.us/Sony-Alpha7-III

* Tamron 28-75mm F2.8 RXD A036SF

* Lens for Sony-FE : https://geni.us/TamronRXD-28-75mm

* Aputure Amaran HR672C: https://geni.us/AputureAmaranHR672C

* Aputure MC: https://geni.us/FAPGL

* RØDE VideoMic Pro+: https://geni.us/RodeVideoMic-ProPlus

* Blue Snowball iCE: https://geni.us/BlueSnowball-iCE

* Philips Hue Lightstrip Plus: https://geni.us/PhilipsHue-Light

Disclaimer: This video is shared for demonstration purposes only.
